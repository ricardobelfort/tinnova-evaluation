<h1>Novo usuário</h1>

<form class="form-usuario" [formGroup]="form" (ngSubmit)="onSubmit()">
  <p>
    <mat-form-field class="form-usuario__full-width" appearance="legacy">
      <mat-label>Nome completo [sem abreviações]</mat-label>
      <input matInput placeholder="Nome" formControlName="name" />
      <mat-error>Campo deve ter 3 caracteres ou mais</mat-error>
    </mat-form-field>
  </p>
  <p>
    <mat-form-field class="form-usuario__full-width" appearance="legacy">
      <mat-label>E-mail</mat-label>
      <input
        type="email"
        matInput
        placeholder="E-mail"
        formControlName="email"
        required
      />
      <mat-error *ngIf="form.hasError('email') && !form.hasError('required')">
        Por favor, insira um e-mail válido
      </mat-error>
      <mat-error *ngIf="form.hasError('required')">
        E-mail é <strong>obrigatório</strong>
      </mat-error>
    </mat-form-field>
  </p>
  <p>
    <mat-form-field class="form-usuario__full-width" appearance="legacy">
      <mat-label>CPF</mat-label>
      <input type="text" matInput placeholder="CPF" formControlName="cpf" />
    </mat-form-field>
  </p>
  <p>
    <mat-form-field class="form-usuario__full-width" appearance="legacy">
      <mat-label>Telefone</mat-label>
      <input
        type="tel"
        matInput
        placeholder="Telefone"
        formControlName="phone"
      />
    </mat-form-field>
  </p>
  <button class="btn-submit" [disabled]="form.invalid && !isUpdate">
    {{ !isUpdate ? "Cadastrar" : "Atualizar" }}
  </button>
</form>
